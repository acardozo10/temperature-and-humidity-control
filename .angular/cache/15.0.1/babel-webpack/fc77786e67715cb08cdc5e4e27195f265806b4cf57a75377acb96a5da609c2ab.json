{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport data from './data.json';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"primeng/table\";\nimport * as i4 from \"primeng/api\";\nimport * as i5 from \"primeng/button\";\nimport * as i6 from \"primeng/chart\";\nimport * as i7 from \"primeng/tabview\";\nimport * as i8 from \"primeng/fieldset\";\nfunction AppComponent_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"th\", 17);\n    i0.ɵɵtext(2, \"Dispositivo \");\n    i0.ɵɵelement(3, \"p-sortIcon\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"th\", 19);\n    i0.ɵɵtext(5, \"Temperatura \");\n    i0.ɵɵelement(6, \"p-sortIcon\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\", 21);\n    i0.ɵɵtext(8, \"Humedad \");\n    i0.ɵɵelement(9, \"p-sortIcon\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\", 23);\n    i0.ɵɵtext(11, \"Fecha \");\n    i0.ɵɵelement(12, \"p-sortIcon\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\", 23);\n    i0.ɵɵtext(14, \"Hora \");\n    i0.ɵɵelement(15, \"p-sortIcon\", 24);\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AppComponent_ng_template_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const data_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(data_r2.dispositivo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(data_r2.temperaturA_REAL);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(data_r2.humedaD_REAL);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(data_r2.fecha.toString().split(\"T\")[0]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(data_r2.fecha.toString().split(\"T\")[1]);\n  }\n}\nconst _c0 = function () {\n  return {\n    \"min-width\": \"20rem\"\n  };\n};\nconst _c1 = function () {\n  return [5, 10, 25, 50];\n};\nexport class AppComponent {\n  constructor(httpClient, fb) {\n    this.httpClient = httpClient;\n    this.fb = fb;\n    this.title = 'temperature-and-humedity-control';\n    this.first = 0;\n    this.rows = 10;\n    this.tableData = data;\n    this.basicOptions = {\n      plugins: {\n        legend: {\n          labels: {\n            color: '#495057'\n          }\n        }\n      },\n      scales: {\n        x: {\n          ticks: {\n            color: '#495057'\n          },\n          grid: {\n            color: '#ebedef'\n          }\n        },\n        y: {\n          ticks: {\n            color: '#495057'\n          },\n          grid: {\n            color: '#ebedef'\n          }\n        }\n      }\n    };\n    this.refreshData();\n    this.getParameters();\n    this.getLimites();\n    this.formParametros = this.fb.group({\n      tempCorreccion: [null, Validators.required]\n    });\n  }\n  updateGraphicData() {\n    let labels = [this.tableData[0].fecha.toString().split('T')[1], this.tableData[20].fecha.toString().split('T')[1], this.tableData[40].fecha.toString().split('T')[1], this.tableData[60].fecha.toString().split('T')[1], this.tableData[80].fecha.toString().split('T')[1], this.tableData[100].fecha.toString().split('T')[1], this.tableData[120].fecha.toString().split('T')[1], this.tableData[140].fecha.toString().split('T')[1], this.tableData[160].fecha.toString().split('T')[1], this.tableData[180].fecha.toString().split('T')[1], this.tableData[200].fecha.toString().split('T')[1]];\n    let dataTemperatura = [this.tableData[0].temperaturA_REAL, this.tableData[20].temperaturA_REAL, this.tableData[40].temperaturA_REAL, this.tableData[60].temperaturA_REAL, this.tableData[80].temperaturA_REAL, this.tableData[100].temperaturA_REAL, this.tableData[120].temperaturA_REAL, this.tableData[140].temperaturA_REAL, this.tableData[160].temperaturA_REAL, this.tableData[180].temperaturA_REAL, this.tableData[200].temperaturA_REAL];\n    let dataHumedad = [this.tableData[0].humedaD_REAL, this.tableData[20].humedaD_REAL, this.tableData[40].humedaD_REAL, this.tableData[60].humedaD_REAL, this.tableData[80].humedaD_REAL, this.tableData[100].humedaD_REAL, this.tableData[120].humedaD_REAL, this.tableData[140].humedaD_REAL, this.tableData[160].humedaD_REAL, this.tableData[180].humedaD_REAL, this.tableData[200].humedaD_REAL];\n    this.basicData = {\n      labels,\n      datasets: [{\n        label: 'Temperatura',\n        data: dataTemperatura,\n        fill: false,\n        borderColor: '#42A5F5',\n        tension: 0.4\n      }, {\n        label: 'Humedad',\n        data: dataHumedad,\n        fill: false,\n        borderColor: '#FFA726',\n        tension: 0.4\n      }]\n    };\n  }\n  refreshData() {\n    this.httpClient.get('https://proyecto-pif-arq.azurewebsites.net/api/getSenses').subscribe(response => {\n      console.log(response);\n      this.tableData = response;\n      this.tableData = this.tableData.sort();\n      this.updateGraphicData();\n    }, error => {\n      this.tableData = data;\n      this.updateGraphicData();\n    });\n  }\n  getParameters() {\n    this.httpClient.get('https://proyecto-pif-arq.azurewebsites.net/api/getParameters').subscribe(response => {\n      console.log(response);\n      this.parametros = response;\n    }, error => {});\n  }\n  getLimites() {\n    this.httpClient.get('https://proyecto-pif-arq.azurewebsites.net/api/getLimites').subscribe(response => {\n      console.log(response);\n      this.limites = response;\n    }, error => {});\n  }\n  static #_ = this.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.FormBuilder));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"app-root\"]],\n    decls: 69,\n    vars: 21,\n    consts: [[1, \"container\"], [2, \"width\", \"100%\"], [\"header\", \"Datos\"], [1, \"card\"], [1, \"table-header\"], [\"type\", \"button\", \"icon\", \"pi pi-refresh\", \"styleClass\", \"p-button-text\", 3, \"click\"], [\"currentPageReportTemplate\", \"Mostrando {first} a {last} de {totalRecords} filas\", 3, \"value\", \"paginator\", \"rows\", \"showCurrentPageReport\", \"tableStyle\", \"rowsPerPageOptions\"], [\"pTemplate\", \" header\"], [\"pTemplate\", \"body\"], [\"header\", \"Grafica\"], [\"type\", \"line\", 3, \"data\", \"options\"], [\"header\", \"Parametros y l\\u00EDmites\", 1, \"parametros-limites\"], [\"legend\", \"Parametros\", 1, \"param-limit\"], [1, \"m-0\"], [\"legend\", \"L\\u00EDmites\", 1, \"param-limit\"], [3, \"formGroup\"], [\"type\", \"text\", \"formControlName\", \"tempCorreccion\"], [\"pSortableColumn\", \"Dispositivo\", 2, \"width\", \"20%\"], [\"field\", \"Dispositivo\"], [\"pSortableColumn\", \"temperaturA_REAL\", 2, \"width\", \"20%\"], [\"field\", \"temperaturA_REAL\"], [\"pSortableColumn\", \"humedaD_REAL\", 2, \"width\", \"20%\"], [\"field\", \"humedaD_REAL\"], [\"pSortableColumn\", \"fecha\", 2, \"width\", \"20%\"], [\"field\", \"fecha\"]],\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"p-tabView\", 1)(2, \"p-tabPanel\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"h3\");\n        i0.ɵɵtext(6, \"Registro de control de temperatura y humedad \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"p-button\", 5);\n        i0.ɵɵlistener(\"click\", function AppComponent_Template_p_button_click_7_listener() {\n          return ctx.refreshData();\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(8, \"p-table\", 6);\n        i0.ɵɵtemplate(9, AppComponent_ng_template_9_Template, 16, 0, \"ng-template\", 7);\n        i0.ɵɵtemplate(10, AppComponent_ng_template_10_Template, 11, 5, \"ng-template\", 8);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(11, \"p-tabPanel\", 9)(12, \"div\", 3)(13, \"h4\");\n        i0.ɵɵtext(14, \"Grafica de valores con intervalos entre 2-5m\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(15, \"p-chart\", 10);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(16, \"p-tabPanel\", 11)(17, \"div\")(18, \"p-fieldset\", 12)(19, \"p\", 13)(20, \"span\");\n        i0.ɵɵtext(21, \"Valor Correci\\u00F3n temperatura: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(22);\n        i0.ɵɵelement(23, \"br\");\n        i0.ɵɵelementStart(24, \"span\");\n        i0.ɵɵtext(25, \"Valor Correci\\u00F3n humedad:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(26);\n        i0.ɵɵelement(27, \"br\")(28, \"br\")(29, \"br\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(30, \"p-fieldset\", 14)(31, \"p\", 13)(32, \"span\");\n        i0.ɵɵtext(33, \"L\\u00EDmite m\\u00EDnimo temperatura: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(34);\n        i0.ɵɵelement(35, \"br\");\n        i0.ɵɵelementStart(36, \"span\");\n        i0.ɵɵtext(37, \"L\\u00EDmite m\\u00E1ximo temperatura:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(38);\n        i0.ɵɵelement(39, \"br\");\n        i0.ɵɵelementStart(40, \"span\");\n        i0.ɵɵtext(41, \"L\\u00EDmite m\\u00EDnimo humedad: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(42);\n        i0.ɵɵelement(43, \"br\");\n        i0.ɵɵelementStart(44, \"span\");\n        i0.ɵɵtext(45, \"L\\u00EDmite m\\u00E1ximo humedad:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(46);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(47, \"div\")(48, \"p-fieldset\", 12)(49, \"form\", 15)(50, \"div\");\n        i0.ɵɵelement(51, \"input\", 16);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(52, \"p-fieldset\", 14)(53, \"p\", 13)(54, \"span\");\n        i0.ɵɵtext(55, \"L\\u00EDmite m\\u00EDnimo temperatura: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(56);\n        i0.ɵɵelement(57, \"br\");\n        i0.ɵɵelementStart(58, \"span\");\n        i0.ɵɵtext(59, \"L\\u00EDmite m\\u00E1ximo temperatura:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(60);\n        i0.ɵɵelement(61, \"br\");\n        i0.ɵɵelementStart(62, \"span\");\n        i0.ɵɵtext(63, \"L\\u00EDmite m\\u00EDnimo humedad: \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(64);\n        i0.ɵɵelement(65, \"br\");\n        i0.ɵɵelementStart(66, \"span\");\n        i0.ɵɵtext(67, \"L\\u00EDmite m\\u00E1ximo humedad:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(68);\n        i0.ɵɵelementEnd()()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"value\", ctx.tableData)(\"paginator\", true)(\"rows\", 10)(\"showCurrentPageReport\", true)(\"tableStyle\", i0.ɵɵpureFunction0(19, _c0))(\"rowsPerPageOptions\", i0.ɵɵpureFunction0(20, _c1));\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"data\", ctx.basicData)(\"options\", ctx.basicOptions);\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate1(\" \", ctx.parametros == null ? null : ctx.parametros.valorCalibracionTemperatura, \" \");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" \", ctx.parametros == null ? null : ctx.parametros.valorCalibracionHumedad, \" \");\n        i0.ɵɵadvance(8);\n        i0.ɵɵtextInterpolate1(\" \", ctx.limites == null ? null : ctx.limites.tempMinLimit, \" \");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" \", ctx.limites == null ? null : ctx.limites.tempMaxLimit, \" \");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" \", ctx.limites == null ? null : ctx.limites.hmdMinLimit, \" \");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" \", ctx.limites == null ? null : ctx.limites.hmdMaxLimit, \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"formGroup\", ctx.formParametros);\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate1(\" \", ctx.limites == null ? null : ctx.limites.tempMinLimit, \" \");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" \", ctx.limites == null ? null : ctx.limites.tempMaxLimit, \" \");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" \", ctx.limites == null ? null : ctx.limites.hmdMinLimit, \" \");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\" \", ctx.limites == null ? null : ctx.limites.hmdMaxLimit, \" \");\n      }\n    },\n    dependencies: [i3.Table, i4.PrimeTemplate, i3.SortableColumn, i3.SortIcon, i5.Button, i6.UIChart, i7.TabView, i7.TabPanel, i8.Fieldset],\n    styles: [\".container[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%] {\\n  width: 100%;\\n  margin: 20px 0px;\\n}\\n.container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.container[_ngcontent-%COMP%]   .parametros-limites[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-flow: row wrap;\\n  width: 100% !important;\\n}\\n.container[_ngcontent-%COMP%]   .parametros-limites[_ngcontent-%COMP%] {\\n  width: 100% !important;\\n}\\n.container[_ngcontent-%COMP%]   .parametros-limites[_ngcontent-%COMP%]     .p-tabview-panel {\\n  width: 100% !important;\\n}\\n.container[_ngcontent-%COMP%]   .param-limit[_ngcontent-%COMP%] {\\n  float: left;\\n  width: 50%;\\n  height: 500px;\\n}\\n/*# sourceURL=webpack://./src/app/app.component.scss */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYXBwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtBQUNGO0FBQUU7RUFDRSxXQUFBO0VBQ0EsZ0JBQUE7QUFFSjtBQUFJO0VBQ0ksYUFBQTtFQUNBLHNCQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtBQUVSO0FBQ0U7RUFFRSxhQUFBO0VBRUEsbUJBQUE7RUFDQSxzQkFBQTtBQUNKO0FBRUU7RUFDRSxzQkFBQTtBQUFKO0FBRU07RUFDRSxzQkFBQTtBQUFSO0FBTUU7RUFDRSxXQUFBO0VBQ0EsVUFBQTtFQUNBLGFBQUE7QUFKSiIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cbi5jb250YWluZXIgLmNhcmQge1xuICB3aWR0aDogMTAwJTtcbiAgbWFyZ2luOiAyMHB4IDBweDtcbn1cbi5jb250YWluZXIgLmNhcmQgLnRhYmxlLWhlYWRlciB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuLmNvbnRhaW5lciAucGFyYW1ldHJvcy1saW1pdGVzIHtcbiAgZGlzcGxheTogLXdlYmtpdC1mbGV4O1xuICBkaXNwbGF5OiBmbGV4O1xuICAtd2Via2l0LWZsZXgtZmxvdzogcm93IHdyYXA7XG4gIGZsZXgtZmxvdzogcm93IHdyYXA7XG4gIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XG59XG4uY29udGFpbmVyIC5wYXJhbWV0cm9zLWxpbWl0ZXMge1xuICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xufVxuLmNvbnRhaW5lciAucGFyYW1ldHJvcy1saW1pdGVzIDo6bmctZGVlcCAucC10YWJ2aWV3LXBhbmVsIHtcbiAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcbn1cbi5jb250YWluZXIgLnBhcmFtLWxpbWl0IHtcbiAgZmxvYXQ6IGxlZnQ7XG4gIHdpZHRoOiA1MCU7XG4gIGhlaWdodDogNTAwcHg7XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["Validators","data","i0","AppComponent","constructor","httpClient","fb","basicOptions","plugins","legend","labels","color","scales","x","ticks","grid","y","refreshData","getParameters","getLimites","formParametros","group","tempCorreccion","required","updateGraphicData","tableData","fecha","toString","split","dataTemperatura","temperaturA_REAL","dataHumedad","humedaD_REAL","basicData","datasets","label","fill","borderColor","tension","get","subscribe","response","console","log","sort","error","parametros","limites","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["F:\\Angel\\Arquitectura\\FRONT\\temperature-and-humidity-control\\src\\app\\app.component.ts","F:\\Angel\\Arquitectura\\FRONT\\temperature-and-humidity-control\\src\\app\\app.component.html"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\r\nimport { Component } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport data from './data.json';\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss'],\r\n})\r\nexport class AppComponent {\r\n  title = 'temperature-and-humedity-control';\r\n  first = 0;\r\n  rows = 10;\r\n\r\n  public basicData: any;\r\n  public basicOptions: any;\r\n  public tableData: any[] = data;\r\n  public parametros: any;\r\n  public limites: any;\r\n  public formParametros: FormGroup;\r\n\r\n  constructor(private httpClient: HttpClient, private fb: FormBuilder) {\r\n    this.basicOptions = {\r\n      plugins: {\r\n        legend: {\r\n          labels: {\r\n            color: '#495057',\r\n          },\r\n        },\r\n      },\r\n      scales: {\r\n        x: {\r\n          ticks: {\r\n            color: '#495057',\r\n          },\r\n          grid: {\r\n            color: '#ebedef',\r\n          },\r\n        },\r\n        y: {\r\n          ticks: {\r\n            color: '#495057',\r\n          },\r\n          grid: {\r\n            color: '#ebedef',\r\n          },\r\n        },\r\n      },\r\n    };\r\n    this.refreshData();\r\n    this.getParameters();\r\n    this.getLimites();\r\n    this.formParametros = this.fb.group({\r\n      tempCorreccion: [null, Validators.required],\r\n    });\r\n  }\r\n\r\n  public updateGraphicData(): void {\r\n    let labels = [\r\n      this.tableData[0].fecha.toString().split('T')[1],\r\n      this.tableData[20].fecha.toString().split('T')[1],\r\n      this.tableData[40].fecha.toString().split('T')[1],\r\n      this.tableData[60].fecha.toString().split('T')[1],\r\n      this.tableData[80].fecha.toString().split('T')[1],\r\n      this.tableData[100].fecha.toString().split('T')[1],\r\n      this.tableData[120].fecha.toString().split('T')[1],\r\n      this.tableData[140].fecha.toString().split('T')[1],\r\n      this.tableData[160].fecha.toString().split('T')[1],\r\n      this.tableData[180].fecha.toString().split('T')[1],\r\n      this.tableData[200].fecha.toString().split('T')[1],\r\n    ];\r\n    let dataTemperatura = [\r\n      this.tableData[0].temperaturA_REAL,\r\n      this.tableData[20].temperaturA_REAL,\r\n      this.tableData[40].temperaturA_REAL,\r\n      this.tableData[60].temperaturA_REAL,\r\n      this.tableData[80].temperaturA_REAL,\r\n      this.tableData[100].temperaturA_REAL,\r\n      this.tableData[120].temperaturA_REAL,\r\n      this.tableData[140].temperaturA_REAL,\r\n      this.tableData[160].temperaturA_REAL,\r\n      this.tableData[180].temperaturA_REAL,\r\n      this.tableData[200].temperaturA_REAL,\r\n    ];\r\n\r\n    let dataHumedad = [\r\n      this.tableData[0].humedaD_REAL,\r\n      this.tableData[20].humedaD_REAL,\r\n      this.tableData[40].humedaD_REAL,\r\n      this.tableData[60].humedaD_REAL,\r\n      this.tableData[80].humedaD_REAL,\r\n      this.tableData[100].humedaD_REAL,\r\n      this.tableData[120].humedaD_REAL,\r\n      this.tableData[140].humedaD_REAL,\r\n      this.tableData[160].humedaD_REAL,\r\n      this.tableData[180].humedaD_REAL,\r\n      this.tableData[200].humedaD_REAL,\r\n    ];\r\n    this.basicData = {\r\n      labels,\r\n      datasets: [\r\n        {\r\n          label: 'Temperatura',\r\n          data: dataTemperatura,\r\n          fill: false,\r\n          borderColor: '#42A5F5',\r\n          tension: 0.4,\r\n        },\r\n        {\r\n          label: 'Humedad',\r\n          data: dataHumedad,\r\n          fill: false,\r\n          borderColor: '#FFA726',\r\n          tension: 0.4,\r\n        },\r\n      ],\r\n    };\r\n  }\r\n\r\n  public refreshData(): void {\r\n    this.httpClient\r\n      .get('https://proyecto-pif-arq.azurewebsites.net/api/getSenses')\r\n      .subscribe(\r\n        (response: any) => {\r\n          console.log(response);\r\n          this.tableData = response;\r\n          this.tableData = this.tableData.sort();\r\n          this.updateGraphicData();\r\n        },\r\n        (error) => {\r\n          this.tableData = data;\r\n          this.updateGraphicData();\r\n        }\r\n      );\r\n  }\r\n\r\n  public getParameters(): void {\r\n    this.httpClient\r\n      .get('https://proyecto-pif-arq.azurewebsites.net/api/getParameters')\r\n      .subscribe(\r\n        (response: any) => {\r\n          console.log(response);\r\n          this.parametros = response;\r\n        },\r\n        (error) => {}\r\n      );\r\n  }\r\n  public getLimites(): void {\r\n    this.httpClient\r\n      .get('https://proyecto-pif-arq.azurewebsites.net/api/getLimites')\r\n      .subscribe(\r\n        (response: any) => {\r\n          console.log(response);\r\n          this.limites = response;\r\n        },\r\n        (error) => {}\r\n      );\r\n  }\r\n}\r\n","<div class=\"container\">\r\n  <p-tabView style=\"width: 100%;\">\r\n    <p-tabPanel header=\"Datos\">\r\n      <div class=\"card\">\r\n        <div class=\"table-header\">\r\n          <h3>Registro de control de temperatura y humedad\r\n          </h3>\r\n          <p-button type=\"button\" icon=\"pi pi-refresh\" styleClass=\"p-button-text\" (click)=\"refreshData();\"></p-button>\r\n        </div>\r\n        <p-table [value]=\"tableData\" [paginator]=\"true\" [rows]=\"10\" [showCurrentPageReport]=\"true\"\r\n          [tableStyle]=\"{'min-width': '20rem'}\"\r\n          currentPageReportTemplate=\"Mostrando {first} a {last} de {totalRecords} filas\"\r\n          [rowsPerPageOptions]=\"[5,10,25,50]\">\r\n          <ng-template pTemplate=\" header\">\r\n            <tr>\r\n              <th pSortableColumn=\"Dispositivo\" style=\"width:20%\">Dispositivo <p-sortIcon\r\n                  field=\"Dispositivo\"></p-sortIcon>\r\n              </th>\r\n              <th pSortableColumn=\"temperaturA_REAL\" style=\"width:20%\">Temperatura <p-sortIcon\r\n                  field=\"temperaturA_REAL\"></p-sortIcon>\r\n              </th>\r\n              <th pSortableColumn=\"humedaD_REAL\" style=\"width:20%\">Humedad <p-sortIcon\r\n                  field=\"humedaD_REAL\"></p-sortIcon>\r\n              </th>\r\n              <th pSortableColumn=\"fecha\" style=\"width:20%\">Fecha <p-sortIcon field=\"fecha\"></p-sortIcon>\r\n              </th>\r\n              <th pSortableColumn=\"fecha\" style=\"width:20%\">Hora <p-sortIcon field=\"fecha\"></p-sortIcon>\r\n              </th>\r\n            </tr>\r\n          </ng-template>\r\n          <ng-template pTemplate=\"body\" let-data>\r\n            <tr>\r\n              <td>{{data.dispositivo}}</td>\r\n              <td>{{data.temperaturA_REAL}}</td>\r\n              <td>{{data.humedaD_REAL}}</td>\r\n              <td>{{data.fecha.toString().split('T')[0]}}</td>\r\n              <td>{{data.fecha.toString().split('T')[1]}}</td>\r\n            </tr>\r\n          </ng-template>\r\n        </p-table>\r\n      </div>\r\n    </p-tabPanel>\r\n    <p-tabPanel header=\"Grafica\">\r\n      <div class=\"card\">\r\n        <h4>Grafica de valores con intervalos entre 2-5m</h4>\r\n        <p-chart type=\"line\" [data]=\"basicData\" [options]=\"basicOptions\"></p-chart>\r\n      </div>\r\n    </p-tabPanel>\r\n    <p-tabPanel header=\"Parametros y límites\" class=\"parametros-limites\">\r\n\r\n      <div>\r\n        <p-fieldset legend=\"Parametros\" class=\"param-limit\">\r\n          <p class=\"m-0\">\r\n            <span>Valor Correción temperatura: </span> {{this.parametros?.valorCalibracionTemperatura}}\r\n            <br>\r\n            <span>Valor Correción humedad:</span> {{this.parametros?.valorCalibracionHumedad}}\r\n            <br>\r\n            <br>\r\n            <br>\r\n\r\n          </p>\r\n        </p-fieldset>\r\n        <p-fieldset legend=\"Límites\" class=\"param-limit\">\r\n          <p class=\"m-0\">\r\n            <span>Límite mínimo temperatura: </span> {{this.limites?.tempMinLimit}}\r\n            <br>\r\n            <span>Límite máximo temperatura:</span> {{this.limites?.tempMaxLimit}}\r\n            <br>\r\n            <span>Límite mínimo humedad: </span> {{this.limites?.hmdMinLimit}}\r\n            <br>\r\n            <span>Límite máximo humedad:</span> {{this.limites?.hmdMaxLimit}}\r\n          </p>\r\n        </p-fieldset>\r\n      </div>\r\n      <div>\r\n        <p-fieldset legend=\"Parametros\" class=\"param-limit\">\r\n          <form [formGroup]=\"formParametros\">\r\n            <div>\r\n              <input type=\"text\" formControlName=\"tempCorreccion\">\r\n            </div>\r\n          </form>\r\n        </p-fieldset>\r\n          <p-fieldset legend=\"Límites\" class=\"param-limit\">\r\n            <p class=\"m-0\">\r\n                <span>Límite mínimo temperatura: </span> {{this.limites?.tempMinLimit}}\r\n                <br>\r\n                <span>Límite máximo temperatura:</span> {{this.limites?.tempMaxLimit}}\r\n                <br>\r\n                <span>Límite mínimo humedad: </span> {{this.limites?.hmdMinLimit}}\r\n                <br>\r\n                <span>Límite máximo humedad:</span> {{this.limites?.hmdMaxLimit}}\r\n            </p>\r\n      </p-fieldset>\r\n      </div>\r\n    </p-tabPanel>\r\n  </p-tabView>\r\n\r\n\r\n\r\n\r\n\r\n\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}